@model IEnumerable<WebApp.Models.TableViewModel>
@{
    ViewData["Title"] = "Tables";
    Layout = "_DashboardLayout";
}

<h1 class="mb-4 text-center">Tables</h1>

<div class="mb-3">
    <a asp-action="Create" class="btn btn-success">Add New Table</a>
</div>

<div class="container">
    <div class="row">
        @foreach (var table in Model)
        {
            var cardColor = table.Status switch
            {
                Models.Entities.TableStatus.Available => "#84e88b",
                Models.Entities.TableStatus.Reserved => "#F00000",
                Models.Entities.TableStatus.Occupied => "#F00000",
                Models.Entities.TableStatus.Cleaning => "#9EE7FB",   
                Models.Entities.TableStatus.Unavailable => "#C8D7DB"
            };

            <div class="col-md-3 mb-4">
                <a asp-action="Details" asp-route-id="@table.TableId" class="text-decoration-none">
                    <div class="card shadow-sm h-100" style="background-color: @cardColor; width: 100%; height: 0; padding-bottom: 100%; position: relative;">
                        <div class="card-body d-flex flex-column align-items-center justify-content-center" style="position: absolute; top: 0; bottom: 0; left: 0; right: 0; color: black;">
                            <h5 class="card-title text-center">@table.TableName</h5>
                            <p class="card-text text-center mb-1"><strong>Capacity:</strong> @table.Capacity</p>
                            <p class="card-text text-center"><strong>Status:</strong> @table.Status</p>
                        </div>
                    </div>
                </a>
            </div>
        }
    </div>
</div>
